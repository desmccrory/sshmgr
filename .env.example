# =============================================================================
# sshmgr Environment Configuration
# =============================================================================
# Copy this file to .env and fill in the values
# =============================================================================

# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------
POSTGRES_USER=sshmgr
POSTGRES_PASSWORD=change_me_in_production
POSTGRES_DB=sshmgr
POSTGRES_PORT=5432

# Full database URL (for direct use, not needed if using docker-compose)
# SSHMGR_DATABASE_URL=postgresql+asyncpg://sshmgr:password@localhost:5432/sshmgr

# -----------------------------------------------------------------------------
# Encryption
# -----------------------------------------------------------------------------
# REQUIRED: Generate with: make generate-key
# Or: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
SSHMGR_MASTER_KEY=

# -----------------------------------------------------------------------------
# Keycloak
# -----------------------------------------------------------------------------
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=change_me_in_production
KEYCLOAK_PORT=8080

SSHMGR_KEYCLOAK_URL=http://localhost:8080
SSHMGR_KEYCLOAK_REALM=sshmgr
SSHMGR_KEYCLOAK_CLIENT_ID=sshmgr-api
SSHMGR_KEYCLOAK_CLIENT_SECRET=

# -----------------------------------------------------------------------------
# API Server
# -----------------------------------------------------------------------------
API_PORT=8000
SSHMGR_API_HOST=0.0.0.0
SSHMGR_API_PORT=8000
SSHMGR_API_DEBUG=false

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
SSHMGR_LOG_LEVEL=INFO
SSHMGR_LOG_FORMAT=json

# -----------------------------------------------------------------------------
# Certificate Defaults
# -----------------------------------------------------------------------------
SSHMGR_DEFAULT_USER_CERT_VALIDITY_HOURS=8
SSHMGR_DEFAULT_HOST_CERT_VALIDITY_DAYS=90

# =============================================================================
# Production TLS Settings (docker-compose.prod.yml)
# =============================================================================

# -----------------------------------------------------------------------------
# Domain Configuration
# -----------------------------------------------------------------------------
# Base domain - services will be available at:
#   - api.${DOMAIN} (sshmgr API)
#   - auth.${DOMAIN} (Keycloak)
#   - traefik.${DOMAIN} (Traefik dashboard, optional)
DOMAIN=example.com

# -----------------------------------------------------------------------------
# Let's Encrypt / ACME
# -----------------------------------------------------------------------------
# Email for Let's Encrypt certificate notifications
ACME_EMAIL=admin@example.com

# -----------------------------------------------------------------------------
# Traefik
# -----------------------------------------------------------------------------
TRAEFIK_LOG_LEVEL=INFO

# Dashboard basic auth (generate with: htpasswd -nB admin)
# Format: user:password_hash (leave empty to disable dashboard access)
# Example: admin:$2y$05$...
TRAEFIK_DASHBOARD_AUTH=

# -----------------------------------------------------------------------------
# Version Tag
# -----------------------------------------------------------------------------
SSHMGR_VERSION=latest
